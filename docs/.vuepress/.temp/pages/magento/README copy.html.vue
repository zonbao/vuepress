<template><h1 id="å¼€å§‹å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å¼€å§‹å®‰è£…" aria-hidden="true">#</a> å¼€å§‹å®‰è£…</h1>
<p>Magentoæ˜¯Adobeå…¬å¸æ——ä¸‹ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„ä¸“ä¸šå¼€æºç”µå­å•†åŠ¡è§£å†³æ–¹æ¡ˆï¼Œä¸ºå•†å®¶æä¾›ä¸€ä¸ªå¤–è§‚ã€å†…å®¹å’ŒåŠŸèƒ½çš„å®Œå…¨çµæ´»æ§åˆ¶ã€‚Magentoç›´è§‚çš„ç®¡ç†ç•Œé¢åŒ…å«å¼ºå¤§çš„è¥é”€ã€å•†å“æ¨é”€å’Œå†…å®¹ç®¡ç†å·¥å…·ï¼Œä½¿å•†å®¶èƒ½å¤Ÿåˆ›å»ºé€‚åˆå…¶ç‹¬ç‰¹ä¸šåŠ¡éœ€æ±‚çš„ç«™ç‚¹ã€‚Magentoå·ç§°å®‡å®™æœ€å¼ºä¼ä¸šç»ˆæç”µå­å•†åŠ¡è§£å†³æ–¹æ¡ˆã€‚</p>
<ul>
<li>æ¼”ç¤ºç«™ç‚¹: <a href="https://venia.magento.com" target="_blank" rel="noopener noreferrer">https://venia.magento.com<OutboundLink/></a></li>
</ul>
<div class="custom-container tip"><p class="custom-container-title">æ³¨æ„</p>
<ul>
<li>æœåŠ¡å™¨ä½¿ç”¨ <a href="https://www.vultr.com/?ref=8417685-6G" target="_blank" rel="noopener noreferrer">Vultr<OutboundLink/></a> çš„Ubuntu20.04 ç³»ç»Ÿ</li>
<li>ä¸ºä»€ä¹ˆé€‰æ‹© Vultr? ä¸»è¦æ˜¯æŒ‰æ—¶è®¡è´¹, éšæ—¶å–æ¶ˆ. ç»ƒæ‰‹çš„æœ€ä½³é€‰æ‹©.</li>
</ul>
</div>
<h2 id="_1-å®‰è£…java" tabindex="-1"><a class="header-anchor" href="#_1-å®‰è£…java" aria-hidden="true">#</a> 1. å®‰è£…java</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>sudo apt-get -y update
</code></pre></div><div class="language-text ext-text"><pre v-pre class="language-text"><code>sudo apt-get install -y openjdk-8-jdk
</code></pre></div><h2 id="_2-å®‰è£…elasticsearch" tabindex="-1"><a class="header-anchor" href="#_2-å®‰è£…elasticsearch" aria-hidden="true">#</a> 2. å®‰è£…Elasticsearch</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -
</code></pre></div><div class="language-text ext-text"><pre v-pre class="language-text"><code>sudo apt-get install apt-transport-https
</code></pre></div><div class="language-text ext-text"><pre v-pre class="language-text"><code>echo "deb https://artifacts.elastic.co/packages/7.x/apt stable main" | sudo tee /etc/apt/sources.list.d/elastic-7.x.list
</code></pre></div><div class="language-text ext-text"><pre v-pre class="language-text"><code>sudo apt-get update &amp;&amp; sudo apt-get install elasticsearch
</code></pre></div><h2 id="_3-å¯åŠ¨elasticsearch" tabindex="-1"><a class="header-anchor" href="#_3-å¯åŠ¨elasticsearch" aria-hidden="true">#</a> 3. å¯åŠ¨elasticsearch</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>/etc/init.d/elasticsearch start
</code></pre></div><h2 id="_4-é…ç½®elasticsearchéšæœºå¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#_4-é…ç½®elasticsearchéšæœºå¯åŠ¨" aria-hidden="true">#</a> 4. é…ç½®elasticsearchéšæœºå¯åŠ¨</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>sudo /bin/systemctl daemon-reload
</code></pre></div><div class="language-text ext-text"><pre v-pre class="language-text"><code>sudo /bin/systemctl enable elasticsearch.service
</code></pre></div><h2 id="_5-å®‰è£…å®å¡”" tabindex="-1"><a class="header-anchor" href="#_5-å®‰è£…å®å¡”" aria-hidden="true">#</a> 5. å®‰è£…å®å¡”</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh
</code></pre></div><h2 id="_6-ç™»å½•å®å¡”å®‰è£…ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_6-ç™»å½•å®å¡”å®‰è£…ç¯å¢ƒ" aria-hidden="true">#</a> 6. ç™»å½•å®å¡”å®‰è£…ç¯å¢ƒ</h2>
<div class="custom-container tip"><p class="custom-container-title">æç¤º</p>
<p>æˆ‘è¿™é‡Œå®‰è£…çš„å¥—ä»¶æ˜¯: nginx1.19 + mysql5.7+php7.4</p>
<ul>
<li>mysqlçš„ç‰ˆæœ¬ä¸è¦ä½äº5.7</li>
<li>phpç‰ˆæœ¬æœ€å¥½æ˜¯7.4, å¦‚æœè¦æ”¹çš„è¯, ä¸‹é¢nginxé…ç½®çš„ç¬¬ä¸€æ­¥å¯¹åº”çš„ä¹Ÿè¦æ”¹æˆå¯¹åº”çš„ç‰ˆæœ¬.</li>
</ul>
</div>
<p><img src="/images/topics/2021-08-05/nginx-mysql-php.png" alt="å®‰è£…ç½‘ç«™ç¯å¢ƒ"></p>
<h2 id="_7-å®‰è£…å¿…è¦çš„phpæ‰©å±•" tabindex="-1"><a class="header-anchor" href="#_7-å®‰è£…å¿…è¦çš„phpæ‰©å±•" aria-hidden="true">#</a> 7. å®‰è£…å¿…è¦çš„PHPæ‰©å±•</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>fileinfo
imap
xsl
opcache
imagemagick
exif
intl
</code></pre></div><p><img src="/images/topics/2021-08-05/php-ex.png" alt="å®‰è£…ç½‘ç«™ç¯å¢ƒ"></p>
<h2 id="_8-åˆ é™¤ä¸‹åˆ—è¢«ç¦ç”¨çš„å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_8-åˆ é™¤ä¸‹åˆ—è¢«ç¦ç”¨çš„å‡½æ•°" aria-hidden="true">#</a> 8. åˆ é™¤ä¸‹åˆ—è¢«ç¦ç”¨çš„å‡½æ•°</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>openlog
syslog
pcntl_signal
proc_open
system
exec
putenv
shell_exec
</code></pre></div><p><img src="/images/topics/2021-08-05/php-func.png" alt="å®‰è£…ç½‘ç«™ç¯å¢ƒ"></p>
<h2 id="_9-ç¯å¢ƒå®‰è£…å®Œæˆå-æ·»åŠ ç«™ç‚¹" tabindex="-1"><a class="header-anchor" href="#_9-ç¯å¢ƒå®‰è£…å®Œæˆå-æ·»åŠ ç«™ç‚¹" aria-hidden="true">#</a> 9. ç¯å¢ƒå®‰è£…å®Œæˆåï¼Œæ·»åŠ ç«™ç‚¹</h2>
<p><img src="/images/topics/2021-08-05/add-website.png" alt="å®‰è£…ç½‘ç«™ç¯å¢ƒ"></p>
<h2 id="_10-ä¿®æ”¹nginxé…ç½®" tabindex="-1"><a class="header-anchor" href="#_10-ä¿®æ”¹nginxé…ç½®" aria-hidden="true">#</a> 10. ä¿®æ”¹Nginxé…ç½®</h2>
<div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p>
<ul>
<li>æ³¨æ„ä¸‹é¢çš„é¡ºåºä¸è¦é”™ï¼Œè¦ä¸ç„¶ä¼šæŠ¥é”™</li>
</ul>
</div>
<h3 id="_1-å¤åˆ¶ä»¥ä¸‹ä»£ç æ¡†é‡Œçš„å†…å®¹ç„¶åç²˜è´´åˆ°ç«™ç‚¹é…ç½®é‡Œçš„é…ç½®æ–‡ä»¶æœ€å‰é¢" tabindex="-1"><a class="header-anchor" href="#_1-å¤åˆ¶ä»¥ä¸‹ä»£ç æ¡†é‡Œçš„å†…å®¹ç„¶åç²˜è´´åˆ°ç«™ç‚¹é…ç½®é‡Œçš„é…ç½®æ–‡ä»¶æœ€å‰é¢" aria-hidden="true">#</a> 1. å¤åˆ¶ä»¥ä¸‹ä»£ç æ¡†é‡Œçš„å†…å®¹ç„¶åç²˜è´´åˆ°ç«™ç‚¹é…ç½®é‡Œçš„é…ç½®æ–‡ä»¶æœ€å‰é¢</h3>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>upstream fastcgi_backend {
    server   unix:/tmp/php-cgi-74.sock;
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p>
<p>ä»¥ä¸Šè¿™æ®µä»£ç åªéœ€è¦é…ç½®ä¸€æ¬¡, åœ¨åŒä¸€ä¸ªå®å¡”é¢æ¿ä¸‹, å¦‚æœä»¥åä½ å†æ·»åŠ å…¶ä»–ç«™ç‚¹, è¯·ä¸è¦å†æ¬¡å¤åˆ¶ç²˜è´´è¿™æ®µä»£ç !!!</p>
</div>
<p><img src="/images/logo.png" alt="å®‰è£…ç½‘ç«™ç¯å¢ƒ"></p>
<h3 id="_2-ä¿®æ”¹nginxé…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-ä¿®æ”¹nginxé…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 2. ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</h3>
<ul>
<li>åˆ é™¤index index.php ... é‚£æ•´è¡Œï¼Œå¹¶å°†root æ”¹æˆ set $MAGE_ROOT å¦‚ä¸‹å›¾</li>
<li>åˆ é™¤include enable-php-74.conf è¿™ä¸€è¡Œ, æˆ–è€…åœ¨è¿™è¡Œå‰é¢æ·»åŠ ä¸€ä¸ª # æ³¨é‡Šæ‰. ä¸‹å›¾æ²¡æœ‰åˆ ,è¯·è‡ªè¡Œåˆ é™¤
<img src="/images/topics/2021-08-05/nginx-config.jpg" alt="å®‰è£…ç½‘ç«™ç¯å¢ƒ"></li>
</ul>
<h3 id="_3-nginxä¼ªé™æ€è§„åˆ™-å¤åˆ¶ä»¥ä¸‹ä»£ç æ¡†é‡Œçš„å†…å®¹ç„¶åç²˜è´´åˆ°ç«™ç‚¹é…ç½®é‡Œçš„ä¼ªé™æ€é‡Œã€‚" tabindex="-1"><a class="header-anchor" href="#_3-nginxä¼ªé™æ€è§„åˆ™-å¤åˆ¶ä»¥ä¸‹ä»£ç æ¡†é‡Œçš„å†…å®¹ç„¶åç²˜è´´åˆ°ç«™ç‚¹é…ç½®é‡Œçš„ä¼ªé™æ€é‡Œã€‚" aria-hidden="true">#</a> 3. nginxä¼ªé™æ€è§„åˆ™ï¼šå¤åˆ¶ä»¥ä¸‹ä»£ç æ¡†é‡Œçš„å†…å®¹ç„¶åç²˜è´´åˆ°ç«™ç‚¹é…ç½®é‡Œçš„ä¼ªé™æ€é‡Œã€‚</h3>
<details class="custom-container details"><summary>ç‚¹å‡»è·å–</summary>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>## Example configuration:
# upstream fastcgi_backend {
#    # use tcp connection
#    # server  127.0.0.1:9000;
#    # or socket
#    server   unix:/var/run/php/php7.4-fpm.sock;
# }
# server {
#    listen 80;
#    server_name mage.dev;
#    set $MAGE_ROOT /var/www/magento2;
#    set $MAGE_DEBUG_SHOW_ARGS 0;
#    include /vagrant/magento2/nginx.conf.sample;
# }
#
## Optional override of deployment mode. We recommend you use the
## command 'bin/magento deploy:mode:set' to switch modes instead.
##
## set $MAGE_MODE default; # or production or developer
##
## If you set MAGE_MODE in server config, you must pass the variable into the
## PHP entry point blocks, which are indicated below. You can pass
## it in using:
##
## fastcgi_param  MAGE_MODE $MAGE_MODE;
##
## In production mode, you should uncomment the 'expires' directive in the /static/ location block

# Modules can be loaded only at the very beginning of the Nginx config file, please move the line below to the main config file
# load_module /etc/nginx/modules/ngx_http_image_filter_module.so;

root $MAGE_ROOT/pub;

index index.php;
autoindex off;
charset UTF-8;
error_page 404 403 = /errors/404.php;
#add_header "X-UA-Compatible" "IE=Edge";


# Deny access to sensitive files
location /.user.ini {
    deny all;
}

# PHP entry point for setup application
location ~* ^/setup($|/) {
    root $MAGE_ROOT;
    location ~ ^/setup/index.php {
        fastcgi_pass   fastcgi_backend;

        fastcgi_param  PHP_FLAG  "session.auto_start=off \n suhosin.session.cryptua=off";
        fastcgi_param  PHP_VALUE "memory_limit=756M \n max_execution_time=600";
        fastcgi_read_timeout 600s;
        fastcgi_connect_timeout 600s;

        fastcgi_index  index.php;
        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
        include        fastcgi_params;
    }

    location ~ ^/setup/(?!pub/). {
        deny all;
    }

    location ~ ^/setup/pub/ {
        add_header X-Frame-Options "SAMEORIGIN";
    }
}

# PHP entry point for update application
location ~* ^/update($|/) {
    root $MAGE_ROOT;

    location ~ ^/update/index.php {
        fastcgi_split_path_info ^(/update/index.php)(/.+)$;
        fastcgi_pass   fastcgi_backend;
        fastcgi_index  index.php;
        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
        fastcgi_param  PATH_INFO        $fastcgi_path_info;
        include        fastcgi_params;
    }

    # Deny everything but index.php
    location ~ ^/update/(?!pub/). {
        deny all;
    }

    location ~ ^/update/pub/ {
        add_header X-Frame-Options "SAMEORIGIN";
    }
}

location / {
    try_files $uri $uri/ /index.php$is_args$args;
}

location /pub/ {
    location ~ ^/pub/media/(downloadable|customer|import|custom_options|theme_customization/.*\.xml) {
        deny all;
    }
    alias $MAGE_ROOT/pub/;
    add_header X-Frame-Options "SAMEORIGIN";
}

location /static/ {
    # Uncomment the following line in production mode
    # expires max;

    # Remove signature of the static files that is used to overcome the browser cache
    location ~ ^/static/version {
        rewrite ^/static/(version\d*/)?(.*)$ /static/$2 last;
    }

    location ~* \.(ico|jpg|jpeg|png|gif|svg|js|css|swf|eot|ttf|otf|woff|woff2|html|json)$ {
        add_header Cache-Control "public";
        add_header X-Frame-Options "SAMEORIGIN";
        expires +1y;

        if (!-f $request_filename) {
            rewrite ^/static/(version\d*/)?(.*)$ /static.php?resource=$2 last;
        }
    }
    location ~* \.(zip|gz|gzip|bz2|csv|xml)$ {
        add_header Cache-Control "no-store";
        add_header X-Frame-Options "SAMEORIGIN";
        expires    off;

        if (!-f $request_filename) {
           rewrite ^/static/(version\d*/)?(.*)$ /static.php?resource=$2 last;
        }
    }
    if (!-f $request_filename) {
        rewrite ^/static/(version\d*/)?(.*)$ /static.php?resource=$2 last;
    }
    add_header X-Frame-Options "SAMEORIGIN";
}

location /media/ {

## The following section allows to offload image resizing from Magento instance to the Nginx.
## Catalog image URL format should be set accordingly.
## See https://docs.magento.com/user-guide/configuration/general/web.html#url-options
#   location ~* ^/media/catalog/.* {
#
#       # Replace placeholders and uncomment the line below to serve product images from public S3
#       # See examples of S3 authentication at https://github.com/anomalizer/ngx_aws_auth
#       # resolver 8.8.8.8;
#       # proxy_pass https://&lt;bucket-name>.&lt;region-name>.amazonaws.com;
#
#       set $width "-";
#       set $height "-";
#       if ($arg_width != '') {
#           set $width $arg_width;
#       }
#       if ($arg_height != '') {
#           set $height $arg_height;
#       }
#       image_filter resize $width $height;
#       image_filter_jpeg_quality 90;
#   }

    try_files $uri $uri/ /get.php$is_args$args;

    location ~ ^/media/theme_customization/.*\.xml {
        deny all;
    }

    location ~* \.(ico|jpg|jpeg|png|gif|svg|js|css|swf|eot|ttf|otf|woff|woff2)$ {
        add_header Cache-Control "public";
        add_header X-Frame-Options "SAMEORIGIN";
        expires +1y;
        try_files $uri $uri/ /get.php$is_args$args;
    }
    location ~* \.(zip|gz|gzip|bz2|csv|xml)$ {
        add_header Cache-Control "no-store";
        add_header X-Frame-Options "SAMEORIGIN";
        expires    off;
        try_files $uri $uri/ /get.php$is_args$args;
    }
    add_header X-Frame-Options "SAMEORIGIN";
}

location /media/customer/ {
    deny all;
}

location /media/downloadable/ {
    deny all;
}

location /media/import/ {
    deny all;
}

location /media/custom_options/ {
    deny all;
}

location /errors/ {
    location ~* \.xml$ {
        deny all;
    }
}

# PHP entry point for main application
location ~ ^/(index|get|static|errors/report|errors/404|errors/503|health_check)\.php$ {
    try_files $uri =404;
    fastcgi_pass   fastcgi_backend;
    fastcgi_buffers 16 16k;
    fastcgi_buffer_size 32k;

    fastcgi_param  PHP_FLAG  "session.auto_start=off \n suhosin.session.cryptua=off";
    fastcgi_param  PHP_VALUE "memory_limit=756M \n max_execution_time=18000";
    fastcgi_read_timeout 600s;
    fastcgi_connect_timeout 600s;

    fastcgi_index  index.php;
    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
    include        fastcgi_params;
}

gzip on;
gzip_disable "msie6";

gzip_comp_level 6;
gzip_min_length 1100;
gzip_buffers 16 8k;
gzip_proxied any;
gzip_types
    text/plain
    text/css
    text/js
    text/xml
    text/javascript
    application/javascript
    application/x-javascript
    application/json
    application/xml
    application/xml+rss
    image/svg+xml;
gzip_vary on;

# Banned locations (only reached if the earlier PHP entry point regexes don't match)
location ~* (\.php$|\.phtml$|\.htaccess$|\.git) {
    deny all;
}
</code></pre></div></details>
<p><img src="/images/topics/2021-08-05/nginx-rewrite.png" alt="å®‰è£…ç½‘ç«™ç¯å¢ƒ"></p>
<h2 id="_11-ä¿®æ”¹é…ç½®é˜²æ­¢å†…å­˜å ç”¨è¿‡é«˜" tabindex="-1"><a class="header-anchor" href="#_11-ä¿®æ”¹é…ç½®é˜²æ­¢å†…å­˜å ç”¨è¿‡é«˜" aria-hidden="true">#</a> 11. ä¿®æ”¹é…ç½®é˜²æ­¢å†…å­˜å ç”¨è¿‡é«˜</h2>
<p>æ‰“å¼€<code>/etc/elasticsearch/jvm.options</code>æ–‡ä»¶, æ·»åŠ ä»¥ä¸‹ä¸¤è¡Œå†…å®¹</p>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>-Xms1g
-Xmx1g
</code></pre></div><p><img src="/images/topics/2021-08-05/es-config.png" alt="å®‰è£…ç½‘ç«™ç¯å¢ƒ"></p>
<h2 id="_12-é‡å¯elasticsearch" tabindex="-1"><a class="header-anchor" href="#_12-é‡å¯elasticsearch" aria-hidden="true">#</a> 12. é‡å¯Elasticsearch</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>/etc/init.d/elasticsearch start
</code></pre></div><h2 id="_13-æŸ¥çœ‹elasticsearchçŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#_13-æŸ¥çœ‹elasticsearchçŠ¶æ€" aria-hidden="true">#</a> 13. æŸ¥çœ‹ElasticsearchçŠ¶æ€</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>/etc/init.d/elasticsearch status
</code></pre></div><p>è¾“å‡ºæ˜¾ç¤ºç±»ä¼¼ä¸‹å›¾:<br>
<img src="/images/topics/2021-08-05/es-status.png" alt="å®‰è£…ç½‘ç«™ç¯å¢ƒ"></p>
<h2 id="_14-ç»ˆç«¯ä¸‹è¿›å…¥ç«™ç‚¹ç›®å½•" tabindex="-1"><a class="header-anchor" href="#_14-ç»ˆç«¯ä¸‹è¿›å…¥ç«™ç‚¹ç›®å½•" aria-hidden="true">#</a> 14. ç»ˆç«¯ä¸‹è¿›å…¥ç«™ç‚¹ç›®å½•</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>cd /www/wwwroot/luzongbao.com
</code></pre></div><div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p>
<p>ä¸Šé¢çš„ç½‘ç«™ç›®å½•çš„è·¯å¾„è¦æ”¹æˆä½ è‡ªå·±çš„æ­£ç¡®çš„è·¯å¾„</p>
</div>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>chattr -i .user.ini &amp;&amp; rm -f index.html .user.ini .htaccess 404.html
</code></pre></div><h2 id="_15-æ‹‰å–magento2ä»£ç " tabindex="-1"><a class="header-anchor" href="#_15-æ‹‰å–magento2ä»£ç " aria-hidden="true">#</a> 15. æ‹‰å–magento2ä»£ç </h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>su www -s /bin/bash -c "composer create-project --repository-url=https://repo.magento.com/ magento/project-community-edition ."
</code></pre></div><h2 id="_16-è®¾ç½®æƒé™" tabindex="-1"><a class="header-anchor" href="#_16-è®¾ç½®æƒé™" aria-hidden="true">#</a> 16. è®¾ç½®æƒé™</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>find var generated vendor pub/static pub/media app/etc -type f -exec chmod g+w {} + &amp;&amp; find var generated vendor pub/static pub/media app/etc -type d -exec chmod g+ws {} + &amp;&amp; chown -R www:www . &amp;&amp; chmod u+x bin/magento
</code></pre></div><h2 id="_17-å®‰è£…æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#_17-å®‰è£…æ•°æ®åº“" aria-hidden="true">#</a> 17. å®‰è£…æ•°æ®åº“</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>bin/magento setup:install \
--base-url=ç½‘å€ \
--db-host=localhost \
--db-name=æ•°æ®åº“ \
--db-user=æ•°æ®åº“ç”¨æˆ·å \
--db-password=æ•°æ®åº“å¯†ç (è¦æœ‰å¤§å°å†™å­—æ¯ä¸æ•°å­—ï¼‰ \
--admin-firstname=å§“ \
--admin-lastname=å \
--admin-email=ç®¡ç†å‘˜é‚®ç®± \
--backend-frontname=admin \
--admin-user=ç™»å½•ç½‘ç«™åå°çš„ç”¨æˆ·å \
--admin-password=ç™»å½•ç½‘ç«™åå°çš„å¯†ç  \
--language=en_US \
--currency=USD \
--timezone=Asia/Shanghai \
--use-rewrites=1
</code></pre></div><div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p>
<p>å°†ä¸Šé¢æœ‰ä¸­æ–‡çš„åœ°æ–¹æ”¹æˆä½ è‡ªå·±çš„æ­£ç¡®çš„é…ç½®</p>
</div>
<p>ä¾‹å­</p>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>bin/magento setup:install \
--base-url=https://luzongbao.com \
--db-host=localhost \
--db-name=luzonbao_com \
--db-user=luzonbao_com \
--db-password=xwkE7tPseHkpFwi4 \
--admin-firstname=zongbao \
--admin-lastname=lu \
--admin-email=support@luzongbao.com \
--backend-frontname=admin \
--admin-user=zonbao \
--admin-password=R8vhVrwi8Vzhdm3X \
--language=en_US \
--currency=USD \
--timezone=Asia/Shanghai \
--use-rewrites=1
</code></pre></div><h2 id="_18-å–æ¶ˆç™»å½•åå°çš„ä¸¤æ­¥æˆæƒ" tabindex="-1"><a class="header-anchor" href="#_18-å–æ¶ˆç™»å½•åå°çš„ä¸¤æ­¥æˆæƒ" aria-hidden="true">#</a> 18. å–æ¶ˆç™»å½•åå°çš„ä¸¤æ­¥æˆæƒ</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>bin/magento module:disable Magento_TwoFactorAuth
</code></pre></div><h2 id="_19-å®‰è£…magento2çš„è®¡åˆ’ä»»åŠ¡" tabindex="-1"><a class="header-anchor" href="#_19-å®‰è£…magento2çš„è®¡åˆ’ä»»åŠ¡" aria-hidden="true">#</a> 19. å®‰è£…magento2çš„è®¡åˆ’ä»»åŠ¡</h2>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>sudo -u www bin/magento cron:install
</code></pre></div><p>ğŸ‰ ğŸ‰ ğŸ‰  ç°åœ¨å·²ç»å®‰è£…å®Œæˆï¼Œå¯ä»¥é€šè¿‡è‡ªå·±çš„åŸŸåè®¿é—®ç½‘ç«™ï¼Œç™»å½•ç½‘ç«™åå°äº†ã€‚</p>
<div class="custom-container tip"><p class="custom-container-title">è¿™æ˜¯æˆ‘çš„ç½‘ç«™ç½‘å€ä¸åå°</p>
<ul>
<li>ç½‘ç«™: https://luzongbao.com</li>
<li>åå°: https://luzongbao.com/admin</li>
</ul>
</div>
<h2 id="å®‰è£…æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#å®‰è£…æ’ä»¶" aria-hidden="true">#</a> å®‰è£…æ’ä»¶</h2>
<ul>
<li>Magentoå®˜æ–¹æ’ä»¶ç½‘ç«™: <a href="https://marketplace.magento.com" target="_blank" rel="noopener noreferrer">https://marketplace.magento.com<OutboundLink/></a></li>
</ul>
<div class="custom-container tip"><p class="custom-container-title">è¯´æ˜</p>
<p>è¯·å°½é‡åªå®‰è£…è‡ªå·±å¿…è¦çš„æ’ä»¶, å®‰è£…å¤ªå¤šæ’ä»¶å¯èƒ½å¯¼è‡´ç½‘ç«™é€Ÿåº¦ä¸‹é™, å¯èƒ½äº§ç”Ÿå„ç§ä¸å¯æ„æ–™çš„é”™è¯¯<br>
Magentoçš„åŸå§‹æ¨¡æ¿å·²ç»å®Œå…¨å¯ä»¥æ»¡è¶³äº§ç”Ÿéœ€æ±‚. ä¸‹å•æ”¶æ¬¾å‘è´§å®Œå…¨å¯ä»¥å®Œæˆäº†.
æˆ‘è‡ªå·±è¿è¥çš„ç«™ç‚¹åŸºæœ¬ä¸Šåªæ˜¯åœ¨magentoçš„åŸå§‹ä»£ç ä¸Šä¿®æ”¹ä¸€ä¸‹æ¨¡æ¿é¢œè‰²å†å®‰è£…ä¸¤ä¸‰ä¸ªå¿…è¦æ’ä»¶<br>
å»ºç”µå­å•†åŠ¡ç«™ç‚¹çš„ä¸»è¦ç›®æ ‡æ˜¯æˆäº¤, ç²¾åŠ›åº”è¯¥èŠ±åœ¨ç½‘ç«™çš„å¼•æµä¸Š, è€Œä¸æ˜¯è¿‡å¤šèŠ±ç²¾åŠ›åœ¨æŠŠç½‘ç«™åšå¾—å¤šä¹ˆå¤šä¹ˆå¥½çœ‹</p>
</div>
<h3 id="_1-å®‰è£…smtpå‘ä»¶æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-å®‰è£…smtpå‘ä»¶æ’ä»¶" aria-hidden="true">#</a> 1. å®‰è£…SMTPå‘ä»¶æ’ä»¶</h3>
<div class="language-text ext-text"><pre v-pre class="language-text"><code>su www -s /bin/bash -c "composer require mageplaza/module-core"
</code></pre></div><div class="language-text ext-text"><pre v-pre class="language-text"><code>su www -s /bin/bash -c "composer require mageplaza/module-smtp"
</code></pre></div><div class="language-text ext-text"><pre v-pre class="language-text"><code>sudo -u www bin/magento setup:upgrade
</code></pre></div><div class="language-text ext-text"><pre v-pre class="language-text"><code>sudo -u www bin/magento setup:static-content:deploy -f
</code></pre></div></template>
